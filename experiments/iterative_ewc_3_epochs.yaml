experiment_name: "iterative_split"
base_model_path: "models/"

task1:
  name: "first_split"
  digits: [1, 2, 4, 5, 7]
  train_params:
    epochs: 5
    lr: 0.001
    optimizer: "RMSprop"
    batch_size: 128
  model_save_name: "model_task1_3_iterative_ewc.pth"

task2:
  name: "second_split"
  digits: [0, 3, 8]
  train_params:
    epochs: 1
    lr: 0.001
    optimizer: "RMSprop"
    batch_size: 128
    ewc: true
    ewc_lambda: 10000
  model_load_name: "model_task1_3_iterative_ewc.pth" # Load model trained on Task 1
  model_save_name: "model_task2_3_iterative_ewc_1_epoch.pth"

evaluation:
  # Accuracy on Task 1 test set using model trained on Task 1
  - name: "eval_task1_after_task1"
    model_load_name: "model_task1_3_iterative_ewc.pth"
    task_name: "first_split"
    digits: [1, 2, 4, 5, 7]

  # Accuracy on Task 2 test set using model trained on Task 1
  - name: "eval_task2_after_task1"
    model_load_name: "model_task1_3_iterative_ewc.pth"
    task_name: "second_split"
    digits: [0, 3, 8]

  # Accuracy on Task 1 test set using model trained on Task 1 then Task 2 (measures forgetting)
  - name: "eval_task1_after_task2"
    model_load_name: "model_task2_3_iterative_ewc_1_epoch.pth"
    task_name: "first_split"
    digits: [1, 2, 4, 5, 7]

  
  # Accuracy on Task 2 test set using model trained on Task 1 then Task 2
  - name: "eval_task2_after_task2"
    model_load_name: "model_task2_3_iterative_ewc_1_epoch.pth"
    task_name: "second_split"
    digits: [0, 3, 8]





